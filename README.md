# Email Trigger for Firestore

–≠—Ç–æ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ Firebase –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —ç–ª–µ–∫—Ç—Ä–æ–Ω–Ω—ã–µ –ø–∏—Å—å–º–∞ –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ –≤ Firestore. –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –º–Ω–æ–∂–µ—Å—Ç–≤–æ —è–∑—ã–∫–æ–≤ –∏ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã–µ —à–∞–±–ª–æ–Ω—ã.

## –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- üåç –ú–Ω–æ–≥–æ—è–∑—ã—á–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ (—Ä—É—Å—Å–∫–∏–π, –∞–Ω–≥–ª–∏–π—Å–∫–∏–π, –∏—Å–ø–∞–Ω—Å–∫–∏–π)
- üìß –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã–µ —à–∞–±–ª–æ–Ω—ã –ø–∏—Å–µ–º
- üîí –ë–µ–∑–æ–ø–∞—Å–Ω–∞—è –æ—Ç–ø—Ä–∞–≤–∫–∞ —á–µ—Ä–µ–∑ SMTP
- üìù –ü–æ–¥–¥–µ—Ä–∂–∫–∞ HTML –∏ —Ç–µ–∫—Å—Ç–æ–≤—ã—Ö —Ñ–æ—Ä–º–∞—Ç–æ–≤
- üîÑ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –ø–æ–≤—Ç–æ—Ä–Ω—ã–µ –ø–æ–ø—ã—Ç–∫–∏ –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞

1. –í Firebase Console –ø–µ—Ä–µ–π–¥–∏—Ç–µ –≤ —Ä–∞–∑–¥–µ–ª Extensions
2. –ù–∞–π–¥–∏—Ç–µ "Email Trigger for Firestore"
3. –ù–∞–∂–º–∏—Ç–µ "Install"
4. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã:
   - SMTP –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
   - –ü—É—Ç—å –∫ –∫–æ–ª–ª–µ–∫—Ü–∏–∏
   - –Ø–∑—ã–∫ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é

–ò–ª–∏ —á–µ—Ä–µ–∑ Firebase CLI:

```bash
firebase ext:install gulyaly/gulyaly-email-send-trigger
```

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞

```javascript
{
  "to": "recipient@example.com", // –∏–ª–∏ –º–∞—Å—Å–∏–≤ –∞–¥—Ä–µ—Å–æ–≤
  "subject": "–¢–µ–º–∞ –ø–∏—Å—å–º–∞",
  "text": "–¢–µ–∫—Å—Ç –ø–∏—Å—å–º–∞",
  "html": "<p>HTML –≤–µ—Ä—Å–∏—è –ø–∏—Å—å–º–∞</p>",
  "template": "birthday", // –∏–ª–∏ "verification"
  "language": "ru", // –∏–ª–∏ "en", "es"
  "userId": "user123",
  "userCollection": "users"
}
```

### –ì–æ—Ç–æ–≤—ã–µ —à–∞–±–ª–æ–Ω—ã

1. –î–µ–Ω—å —Ä–æ–∂–¥–µ–Ω–∏—è (`birthday`)
2. –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ email (`verification`)

## –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –û–ø–∏—Å–∞–Ω–∏–µ |
|----------|-----------|
| SMTP_HOST | –•–æ—Å—Ç SMTP —Å–µ—Ä–≤–µ—Ä–∞ |
| SMTP_PORT | –ü–æ—Ä—Ç SMTP —Å–µ—Ä–≤–µ—Ä–∞ |
| SMTP_USERNAME | –ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è SMTP |
| SMTP_PASSWORD | –ü–∞—Ä–æ–ª—å SMTP |
| FROM_EMAIL | Email –æ—Ç–ø—Ä–∞–≤–∏—Ç–µ–ª—è |
| COLLECTION_PATH | –ü—É—Ç—å –∫ –∫–æ–ª–ª–µ–∫—Ü–∏–∏ |
| DEFAULT_LANGUAGE | –Ø–∑—ã–∫ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é |

## –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞

```bash
git clone https://github.com/bycharyyev/gulyaly-email-send-trigger
cd gulyaly-email-send-trigger
npm install
```

## –õ–∏—Ü–µ–Ω–∑–∏—è

Apache-2.0
